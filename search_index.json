[
["index.html", "FreeAPS-X-ng User Guide 1 How To Use This Guide", " FreeAPS-X-ng User Guide Compiled by Stuart Hertzog 2022-06-26 1 How To Use This Guide [TO BE ADDED] "],
["initial-settings.html", "2 Initial Settings 2.1 SERVICES 2.2 CONFIGURATION 2.3 Target Ranges 2.4 Autotune 2.5 Connect To Apple Health", " 2 Initial Settings The following Settings are listed in order of appearance in the FAX-ng app. If not mentioned, leave the existing Default Settings Click Cog Wheel (bottom right) 2.1 SERVICES 2.1.1 Nightscout URL - Your Nightscout URL ( NO / at the end) Password - Your API Secret as the password Connect - Tap —&gt; Connected! Allow Uploads - Enable 2.1.2 CGM Type - Dexcom G6 Transmitter ID - Enter current 2.1.3 Notifications Your choice, e.g. All turned Off set High —&gt; 10 +++ 2.2 CONFIGURATION 2.2.1 Preferences 2.2.1.1 FREEAPS X Recommended Insulin Fraction —&gt; 2 2.2.1.2 OPENAPS MAIN Settings Insulin Curve - Set to the type of insulin you are using Max IOB - raise to 10 2.2.1.3 DYNAMIC SETTINGS Dynamic CR - Enable Adjust Basal - Enable 2.2.1.4 OPENAPS SMB SETTINGS Enable SMB … options - Enable All Enable UAM - Enable Max Delta-BG Threshold SMB —&gt; 0.3 SMB Interval —&gt; 1 Bolus Increment —&gt; 0.05 ONLY if using Omnipod 2.2.1.5 OPENAPS TARGETS SETTINGS High TempTarget Raises Sensitivity - Enable Low TempTarget Raises Sensitivity - Enable Sensitivity Raises Target - Enable Resistance Lowers Target - Enable 2.2.2 Basal Profile Copy from old Loop/FAX 2.2.3 Insulin Sensitivities Use Autotune value 2.2.4 Carb Ratios Use Autotune calculated value 2.3 Target Ranges Set to whatever range with which you are comfortable Lower range is the one that matters e.g. 5.5 - 5.5, 24/7 2.4 Autotune Enable 2.5 Connect To Apple Health Enable Read and Write in iPhone Settings —&gt; Apple Health "],
["add-pump.html", "3 Add Pump 3.1 If You Are Updgrading From FreeAPS X 3.2 If You Are Upgrading From Loop to FAX-ng 3.3 Closed Loop", " 3 Add Pump 3.1 If You Are Updgrading From FreeAPS X Only one pump at a time can be controlled by FreeAPS-X or FAX-ng, so to add a pump to a new setup you must first Disable OrangeLink/RileyLink in the old pump setup. 3.2 If You Are Upgrading From Loop to FAX-ng ATTENTION: You must FIRST disconnect RileyLink/OrangeLink/EmaLink from Loop.app BEFORE trying to connect a new OmniPod to FAX-ng. You must do this at a scheduled or other Pod change. To do this: Tap Replace Pod BEFORE disconnecting your RileyLink - Settings —&gt; OmniPod screen - (Also available from Pump/Pod icon in Loop top Header) Turn RileyLink switch OFF - RileyLink Green LED will turn off Close the Loop App - Swipe Up Loop icon on Home Screen Back in FAX-ng, select Omnipod in Settings —&gt; Pump - RileyLink should be recognised immediately - Turn RileyLink ON Fill new OmniPod, attach to body - Start New Pod Once the Omnipod is running, you can now close the loop: 3.3 Closed Loop Enable "],
["fine-tuning-using-your-log-files.html", "4 Fine-Tuning Using Your Log Files 4.1 Copying Your Log Files to Your Mac 4.2 Setting UAMSMB/SMB Limitations 4.3 Checking The Results", " 4 Fine-Tuning Using Your Log Files 4.1 Copying Your Log Files to Your Mac You must first create and copy ‌FreeAPS-ng log files from your iPhone to your Mac computer. Tap Share logs at the very bottom of Settings in FAX-ng. This will create two log files, log.txt and log_prev.txt, and open a screen allowing you to Share them by a variety of methods. Save these files on your Mac in a Folder of your choice. Leave the Folder window open on your Desktop. 4.2 Setting UAMSMB/SMB Limitations The following Settings act as “safety limiters”: Max UAMSMB Basal Minutes Max SMB Basal Minutes Autosens Max Autosens Min They do they not affect the calculations except by putting up fences. The primary focus on a new setup is to have initial Settings so that the system is immediately able to function adequately using its default calculations. But if your Basal Minutes is set to 30 and your Basal Rate is .1, and the app wants to give you an SMB of 2U, the Basal Minutes setting will limit it to .5U at a time, and your blood sugar will be high forever. So you will want to increase Basal Minutes to a value that allows the algorithm to do its job. The ideal is to create Settings that allow 95% of any UAMSMB/SMB calculation made by FAX-ng to influence insulin delivery. For this we need to ensure that: SMB is not limited by maxUAMSMBBasalMinutes SMB is not limited by maxSMBBasalMinutes Dynamic ISF limited by autosens_max setting: 1.3 (1.3) 4.2.1 Using Terminal on Your Mac The Terminal application is in Applications —&gt; Utilities —&gt; Terminal SHORTCUT: Click on the Desktop in Finder then hold [SHIFT+OPTION+U] keys down together, press [RETURN] or [ENTER], then start typing terminal when the window opens. Double-click the now-selected Terminal application to open it. Type cd [SPACE] in Terminal, then switch to Finder and drag the small Folder icon where you saved the log files, into the Terminal window. Press [ENTER] or [RETURN]. This will change Terminal to the log file directory. You can type ls then [RETURN] or [ENTER] to list them. The commands given below will now work correctly. First, find find the total number of lines from the log pertinent to each. Copy and paste the first line of each command (below), after the $ prompt. The first line is the command, the second the returned result: grep maxUAMSMBBasalMinutes log.txt | grep limited | wc -l 114 Then find the number of lines that are SMB-limited: grep maxUAMSMBBasalMinutes log.txt | grep &quot;SMB limited&quot; | wc -l 57 Compare the two results. If the number of limited lines is more than 5% (in the above examples it obviously is), you need to adjust maxUAMSMBBasalMinutes, guided by these log reports. Sort the result by calculated units (the last value on the line): grep maxUAMSMBBasalMinutes log.txt | grep &quot;SMB limited&quot; | sort -n +20 For example, if the highest value is 2.26U and your maxUAMSMBBasalMinutes right now is .2U, and there are many lines with values more than 1U, you would need to raise SMBMax to 1U and ignore the ones &gt;1U. Changing this is your Settings will clear off most of the list. 4.2.2 An Easier Way for the Rest of Us Here’s a much easier way for non-technical people: * Email log files to yourself * Open log_prev.txt * Press [CONTROL/COMMAND] + F to perform a search * Enter e.g. SMB is limited by maxUAMSMBBasalMinutes into the Search field. * Press [RETURN/ENTER] Scroll through the search results to see how much the algorithm is limiting insulin delivery. Do the maths and up your UAMSMB basal minutes by that amount. For example: the algorithm bolused 1U insulin when it says it really wanted to bolus 3U, so increase UAMBasalMinutes by 3x in Settings. 4.3 Checking The Results To check this (except the first day or so), run the above commands on the log_prev.txt file, which reports the previous 24h period. Leave it run for a full day before rechecking. If everything else is set up correctly for you, these SMB maximums won’t be needed in the future. But now you can know for sure that they are based on the results returned in your log files. "],
["adjustmentfactor.html", "5 AdjustmentFactor 5.1 Ballpark Formula", " 5 AdjustmentFactor AdjustmentFactor is a multiplier that impacts insulin delivery. It determines the aggressiveness of the DynamicISF algorithm, and it tends to be person-specific. The default is set at 1, which means that there is no change from those Settings values that affect insulin delivery. 5.1 Ballpark Formula There is a formula for deriving a ball park number to start off with: adjustmentFactor = 277700/TDD * BG_target * (18 * 18) * StaticISF In Settings -&gt; Debug Options -&gt; TDD Averages there are numbers for: * Weighted Average (e.g. 78.75) * BG_Target: your choice (e.g. 5.5) In Settings -&gt; Insulin Sensitivities: * StaticISF: Use the Autotune value (e.g. 2.31) Using these example numbers, the AdjustmentFactor will be: 277700 / ( 2.31 * 78.75 * 5.5 * ( 18 * 18 ) * 2.31) = 0.856 It isn’t 100%, but it gets you into the ballpark range, and you can tweak up or down from there. "],
["bolusing-for-meals.html", "6 Bolusing for Meals 6.1 Rule-of-Thumb Meal Bolusing 6.2 Let FAX-ng Do Its Work", " 6 Bolusing for Meals FreeAPS (FAX) doesn’t actually give meal bolus recommendations as does Loop. Here’s what the Meals section of LoopAndLearn FreeAPS docs recommends: The function Ivan has built to give a bolus is not a bolus calculator in the same way as Loop has one, so don’t expect it to give you enough insulin. What Ivan has done is to take the insulinReq calculation and use it to provide a bolus estimate. The insulinReq value is calculated based on a number of prediction curves, and when carbs are added, it mediates the effect of carbs with the other curves. So the insulinReq value is not necessarily as much insulin as the normal meal bolus would be (it’s conservative for safety reasons). It’s not a bolus calculator. The recommendation with oref1 (and the way most people use it) is to bolus 60%-75% of required meal bolus and leave the algorithm to deal with variation in absorption. 6.1 Rule-of-Thumb Meal Bolusing Rather than pull out a calculator, one pre-bolus strategy might be to form a little scale for yourself like the following. You should form your own based on your needs and Carb Ratio (CR): Small meal, 20g or less = 2U Med meal, 20g – 40g = 3U Large meal, 40g or more = 4U Your scale should be based upon your carb ratio and the % of upfront bolus that you prefer. For example, with a Carb Ratio of 10, the above meal boluses would provide a: * 100% upfront bolus for 20g * 75% upfront bolus for 40g, and * 67% upfront bolus for 60g 6.2 Let FAX-ng Do Its Work With an appropriate pre-bolus and Settings, you should NOT need to issue manual boluses after your meal. This may be a difficult task coming from Loop! If you used automatic bolus with Loop or the FreeAPS fork, you’ll find Temp Basal a little slower than you are used to, but it’s worth taking the time to test and adjust your settings before you turn on SMB/UAM. Observe for a few days and make adjustments as needed so that you won’t have to issue correction meal boluses. (Thanks to LoopAndLearn for this.) "],
["appendix.html", "7 Appendix 7.1 Acronyms", " 7 Appendix 7.1 Acronyms BG Blood Glucose BGI Blood Glucose Impact CI Carb Impact COB Carbs On Board CR Carb Ratio ICR Insulin to Carb Ratio IOB Insulin On Board ISF Insulin Sensitivity Factor ISR Insulin Sensitivity Ratio SMB Super Micro Bolus SR Sensitivity Ratio UAM Unannounced Meals ZT Zero-Temp "]
]
